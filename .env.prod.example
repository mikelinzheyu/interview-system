# ==========================================
# Interview System - Production Environment
# 生产环境配置文件模板
# ==========================================

# 时区和地域
TZ=Asia/Shanghai
LOCALE=zh_CN

# Node.js 环境
NODE_ENV=production

# ============ Redis 配置 ============

# Redis 主机和端口
REDIS_HOST=interview-redis
REDIS_PORT=6379
REDIS_DB=0

# Redis 密码 (生产环境必须设置)
# ⚠️ 修改此值为强密码
REDIS_PASSWORD=your_redis_password_here

# ============ Storage Service 配置 ============

# 存储服务端口
STORAGE_PORT=8081

# API Key (生产环境必须修改)
# ⚠️ 修改此值为新生成的安全 API Key
SESSION_STORAGE_API_KEY=ak_live_your_secure_api_key_here_2025

# ============ Backend (Node.js) 配置 ============

# 后端服务端口
BACKEND_PORT=8080

# Dify 工作流配置
# 替换为您实际的 Dify 配置
DIFY_API_KEY=your_dify_api_key_here
DIFY_API_BASE_URL=https://api.dify.ai/v1
DIFY_WORKFLOW_URL=https://api.dify.ai/v1/workflows

# 日志级别
LOG_LEVEL=INFO

# ============ Frontend (Nginx) 配置 ============

# 前端端口
FRONTEND_PORT=80
FRONTEND_HTTPS_PORT=443

# ============ SSL/TLS 配置 (可选) ============

# SSL 证书路径 (如果使用 HTTPS)
# SSL_CERT_PATH=/etc/nginx/ssl/certificate.crt
# SSL_KEY_PATH=/etc/nginx/ssl/private.key

# ============ 监控和日志配置 ============

# 日志保留天数
LOG_RETENTION_DAYS=7

# Docker 日志驱动配置
DOCKER_LOG_MAX_SIZE=100m
DOCKER_LOG_MAX_FILE=5

# ============ 性能配置 ============

# JVM 内存配置 (Storage Service)
# 根据服务器配置调整
# 小型服务器: -Xms256m -Xmx512m
# 中型服务器: -Xms512m -Xmx1024m
# 大型服务器: -Xms1024m -Xmx2048m
JAVA_XMS=256m
JAVA_XMX=512m

# ============ 备份配置 ============

# 备份目录
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=7

# ============ 邮件告警 (可选) ============

# SMTP 配置
# SMTP_HOST=your_smtp_host
# SMTP_PORT=587
# SMTP_USER=your_email
# SMTP_PASSWORD=your_password
# ALERT_EMAIL=admin@example.com

# ============ 自定义配置 ============

# 应用名称
APP_NAME=Interview System
APP_VERSION=1.0.0

# 公司/组织信息
COMPANY_NAME=Your Company Name
CONTACT_EMAIL=support@example.com

# ==========================================
# 注意事项:
# ==========================================
#
# 1. 每个变量前的 "your_*" 必须替换为实际值
#
# 2. 生产环境必须修改的项:
#    - REDIS_PASSWORD (Redis 密码)
#    - SESSION_STORAGE_API_KEY (API 密钥)
#    - DIFY_API_KEY (Dify 工作流密钥)
#
# 3. 不要在版本控制中提交此文件的实际内容
#    使用: git add .env.prod* && git commit
#    但不提交敏感信息
#
# 4. 定期审查和更新敏感配置
#
# 5. 生产环境建议:
#    - 使用强密码和复杂的 API Key
#    - 定期轮换密钥
#    - 使用环境变量注入而非硬编码
#    - 启用审计日志
#    - 配置访问控制和防火墙
#
# ==========================================
