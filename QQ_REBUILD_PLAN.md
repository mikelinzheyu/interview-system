# ğŸ¯ å®Œæ•´é‡å»ºè®¡åˆ’ - ç”Ÿäº§çº§ QQ èŠå¤©ç³»ç»Ÿ

## é˜¶æ®µä¸€ï¼šæ¶æ„è®¾è®¡ä¸è§„åˆ’ï¼ˆ1å°æ—¶ï¼‰

### ç³»ç»Ÿæ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ChatRoom ä¸»å®¹å™¨                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   TopToolbar     â”‚      â”‚  RightSidebar    â”‚              â”‚
â”‚  â”‚  - æœç´¢/åŠŸèƒ½èœå• â”‚      â”‚  - æˆå‘˜åˆ—è¡¨      â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  - ç¾¤ä¿¡æ¯        â”‚              â”‚
â”‚                            â”‚  - è®¾ç½®é€‰é¡¹      â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  â”‚                                                          â”‚
â”‚  â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚        â”‚    MessageList           â”‚                     â”‚
â”‚  â”‚        â”‚  - æ¶ˆæ¯æ˜¾ç¤ºåŒº            â”‚                     â”‚
â”‚  â”‚        â”‚  - è™šæ‹Ÿæ»šåŠ¨              â”‚                     â”‚
â”‚  â”‚        â”‚  - é•¿æŒ‰èœå•              â”‚                     â”‚
â”‚  â”‚        â”‚  - åŠ¨ç”»æ•ˆæœ              â”‚                     â”‚
â”‚  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚  â”‚                                                          â”‚
â”‚  â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚        â”‚    MessageInput          â”‚                     â”‚
â”‚  â”‚        â”‚  - æ–‡æœ¬è¾“å…¥              â”‚                     â”‚
â”‚  â”‚        â”‚  - å¯Œæ–‡æœ¬ç¼–è¾‘            â”‚                     â”‚
â”‚  â”‚        â”‚  - å·¥å…·æ                 â”‚                     â”‚
â”‚  â”‚        â”‚  - æ–‡ä»¶ä¸Šä¼               â”‚                     â”‚
â”‚  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–‡ä»¶ç»„ç»‡ç»“æ„

```
frontend/src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ ChatRoom.vue                    (æ–°)
â”‚   â”‚   â”œâ”€â”€ MessageList.vue                 (é‡æ–°)
â”‚   â”‚   â”œâ”€â”€ MessageInput.vue                (é‡æ–°)
â”‚   â”‚   â”œâ”€â”€ TopToolbar.vue                  (æ–°)
â”‚   â”‚   â”œâ”€â”€ RightSidebar.vue                (æ–°)
â”‚   â”‚   â”œâ”€â”€ ContextMenu.vue                 (æ–°)
â”‚   â”‚   â”œâ”€â”€ MessageContextMenu.vue          (æ–°)
â”‚   â”‚   â””â”€â”€ ChatStyles.css                  (æ–°)
â”‚   â”œâ”€â”€ message/
â”‚   â”‚   â”œâ”€â”€ TextMessage.vue                 (æ–°)
â”‚   â”‚   â”œâ”€â”€ ImageMessage.vue                (æ–°)
â”‚   â”‚   â”œâ”€â”€ FileMessage.vue                 (æ–°)
â”‚   â”‚   â”œâ”€â”€ VoiceMessage.vue                (æ–°)
â”‚   â”‚   â”œâ”€â”€ VideoMessage.vue                (æ–°)
â”‚   â”‚   â””â”€â”€ ReplyMessage.vue                (æ–°)
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ FloatingButton.vue              (æ–°)
â”‚       â””â”€â”€ LoadingAnimation.vue            (æ–°)
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ ChatSocketService.js                (ä¿ç•™)
â”‚   â”œâ”€â”€ MessageManager.js                   (æ–°)
â”‚   â””â”€â”€ animations.js                       (æ–°)
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ chat-theme.css                      (æ–°)
â”‚   â””â”€â”€ animations.css                      (æ–°)
â””â”€â”€ views/
    â””â”€â”€ chat/
        â””â”€â”€ ChatView.vue                    (é‡æ–°)
```

---

## é˜¶æ®µäºŒï¼šæ ¸å¿ƒæ•°æ®æ¨¡å‹è®¾è®¡

### æ¶ˆæ¯æ•°æ®ç»“æ„

```javascript
{
  id: 'msg_1234567890',                    // å”¯ä¸€ ID
  type: 'text' | 'image' | 'file' | 'voice' | 'video' | 'reply',

  // åŸºç¡€ä¿¡æ¯
  senderId: 'user_123',
  senderName: 'å¼ ä¸‰',
  senderAvatar: 'https://...',
  roomId: 'room_456',

  // æ¶ˆæ¯å†…å®¹
  content: 'æ¶ˆæ¯æ–‡æœ¬',                      // æ–‡æœ¬æ¶ˆæ¯
  attachments: [{                           // é™„ä»¶
    id: 'att_1',
    type: 'image' | 'file' | 'voice' | 'video',
    url: 'https://...',
    fileName: 'photo.jpg',
    fileSize: 1024000,
    width: 800,                             // å›¾ç‰‡/è§†é¢‘
    height: 600,
    duration: 120,                          // è¯­éŸ³/è§†é¢‘æ—¶é•¿
  }],

  // å¼•ç”¨æ¶ˆæ¯
  replyTo: {
    id: 'msg_previous',
    senderName: 'æå››',
    content: 'è¢«å›å¤çš„æ¶ˆæ¯',
    type: 'text'
  },

  // çŠ¶æ€ä¿¡æ¯
  status: 'pending' | 'sent' | 'delivered' | 'read' | 'failed',
  timestamp: 1234567890000,
  editedAt: null,                           // ç¼–è¾‘æ—¶é—´
  isRecalled: false,                        // æ˜¯å¦æ’¤å›

  // äº¤äº’æ•°æ®
  isOwn: true,                              // æ˜¯å¦æ˜¯è‡ªå·±å‘çš„
  isHighlighted: false,                     // æ˜¯å¦é«˜äº®ï¼ˆæœç´¢ç»“æœï¼‰

  // @mention æ•°æ®
  mentions: ['user_1', 'user_2'],          // @æåŠçš„ç”¨æˆ·
}
```

### æˆ¿é—´æ•°æ®ç»“æ„

```javascript
{
  id: 'room_456',
  type: 'private' | 'group',
  name: 'ç¾¤ç»„åç§°',
  avatar: 'https://...',

  // ç¾¤ç»„ä¿¡æ¯
  owner: 'user_123',
  members: [
    {
      userId: 'user_1',
      name: 'å¼ ä¸‰',
      avatar: 'https://...',
      role: 'owner' | 'admin' | 'member',
      isOnline: true,
      joinedAt: 1234567890000
    }
  ],

  // ç¾¤ç»„é…ç½®
  description: 'ç¾¤æè¿°',
  announcement: 'ç¾¤å…¬å‘Š',
  isMuted: false,
  muteEndTime: null,

  // æ¶ˆæ¯ä¿¡æ¯
  lastMessage: { id, content, timestamp },
  unreadCount: 0,

  // æ—¶é—´æˆ³
  createdAt: 1234567890000,
  updatedAt: 1234567890000
}
```

---

## é˜¶æ®µä¸‰ï¼šç»„ä»¶ç»†èŠ‚è®¾è®¡

### 1. ChatRoom (ä¸»å®¹å™¨)

**åŠŸèƒ½**:
- å¸ƒå±€ç®¡ç†ï¼ˆä¸‰æ å¸ƒå±€ï¼‰
- çŠ¶æ€ç®¡ç†
- äº‹ä»¶åè°ƒ
- WebSocket è¿æ¥

**Props**: `roomId`
**State**: `room`, `messages`, `members`, `showSidebar`, etc.

### 2. MessageList (æ¶ˆæ¯åˆ—è¡¨)

**åŠŸèƒ½**:
- è™šæ‹Ÿæ»šåŠ¨ï¼ˆæ€§èƒ½ï¼‰
- æ¶ˆæ¯åˆ†ç»„ï¼ˆæŒ‰æ—¶é—´ï¼‰
- é•¿æŒ‰èœå•
- æ¶ˆæ¯åŠ¨ç”»
- æ¶ˆæ¯æœç´¢é«˜äº®
- åŠ è½½æ›´å¤š

**å…³é”®ç‰¹æ€§**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2024-10-21 å‘¨ä¸€                 â”‚  <- æ—¶é—´åˆ†ç»„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚ å¼ ä¸‰  09:30                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯                â”‚ â”‚  <- æ¶ˆæ¯æ°”æ³¡
â”‚ â”‚ æ”¯æŒå¤šè¡Œæ–‡æœ¬                â”‚ â”‚
â”‚ â”‚ âœ“âœ“ å·²è¯»                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ æå››  09:35                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [å›¾ç‰‡é¢„è§ˆ] [ä¸‹è½½]           â”‚ â”‚  <- é™„ä»¶æ¶ˆæ¯
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ ä½   09:40                       â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                  â”‚ å›å¤äº†ä¸€æ¡ â”‚ â”‚  <- å³å¯¹é½ï¼ˆè‡ªå·±çš„æ¶ˆæ¯ï¼‰
â”‚                  â”‚ æ¶ˆæ¯       â”‚ â”‚
â”‚                  â”‚ âœ“  å·²é€è¾¾  â”‚ â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. MessageInput (è¾“å…¥æ¡†)

**åŠŸèƒ½**:
- å¯Œæ–‡æœ¬ç¼–è¾‘
- è¡¨æƒ…é€‰æ‹©å™¨
- æ–‡ä»¶ä¸Šä¼ 
- @mention è‡ªåŠ¨å®Œæˆ
- æ¶ˆæ¯è‰ç¨¿ä¿å­˜
- å¿«æ·å›å¤

**ç‰¹æ€§**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ˜Š  [è¡¨æƒ…]  ğŸ“[æ–‡ä»¶]  ğŸ¤[è¯­éŸ³]  ğŸ“¹[è§†é¢‘]     â”‚
â”‚                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ è¾“å…¥æ¶ˆæ¯... (Ctrl+Enter å‘é€)            â”‚ â”‚
â”‚ â”‚                                          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 [å‘é€] [x]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. TopToolbar (é¡¶éƒ¨å·¥å…·æ )

**åŠŸèƒ½**:
- æœç´¢æ¶ˆæ¯/æˆå‘˜
- è¯­éŸ³é€šè¯
- è§†é¢‘é€šè¯
- æ›´å¤šèœå•

### 5. RightSidebar (å³ä¾§æ )

**åŠŸèƒ½**:
- æˆå‘˜åˆ—è¡¨ï¼ˆåœ¨çº¿/ç¦»çº¿çŠ¶æ€ï¼‰
- ç¾¤ä¿¡æ¯
- ç¾¤å…¬å‘Š
- ç¾¤æ–‡ä»¶
- ç¾¤ç›¸å†Œ
- ç¾¤è®¾ç½®

---

## é˜¶æ®µå››ï¼šæ ·å¼ç³»ç»Ÿ

### æ¶ˆæ¯æ°”æ³¡æ ·å¼

```css
/* ä»–äººæ¶ˆæ¯ - å·¦å¯¹é½ */
.message-bubble-other {
  background: #f0f0f0;
  border-radius: 18px;
  padding: 12px 16px;
  max-width: 70%;
  word-break: break-word;

  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  transition: all 0.2s ease;
}

.message-bubble-other:hover {
  background: #e8e8e8;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}

/* è‡ªå·±çš„æ¶ˆæ¯ - å³å¯¹é½ */
.message-bubble-own {
  background: linear-gradient(135deg, #5c6af0 0%, #6b7eff 100%);
  border-radius: 18px;
  padding: 12px 16px;
  max-width: 70%;
  color: white;
  word-break: break-word;

  box-shadow: 0 2px 8px rgba(92,106,240,0.2);
}

/* æ¶ˆæ¯è¿›å…¥åŠ¨ç”» */
@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message-item {
  animation: messageSlideIn 0.3s ease-out;
}
```

### é¢œè‰²ä¸»é¢˜

```
èƒŒæ™¯è‰²: #ffffff
æ–‡å­—é¢œè‰²: #333333
è¾…åŠ©æ–‡å­—: #999999
å¼ºè°ƒè‰²: #5c6af0
å±é™©è‰²: #ff5f72
æˆåŠŸè‰²: #67c23a
è­¦å‘Šè‰²: #e6a23c

æ¶ˆæ¯æ°”æ³¡ - å…¶ä»–: #f0f0f0
æ¶ˆæ¯æ°”æ³¡ - è‡ªå·±: #5c6af0
æ¶ˆæ¯æ°”æ³¡ - æ‚¬åœ: rgba(92,106,240,0.1)
```

---

## é˜¶æ®µäº”ï¼šäº¤äº’è®¾è®¡

### é•¿æŒ‰èœå•

```
å³å‡»æˆ–é•¿æŒ‰æ¶ˆæ¯:
â”œâ”€ å¤åˆ¶
â”œâ”€ å¼•ç”¨
â”œâ”€ ç¼–è¾‘ (ä»…è‡ªå·±çš„æ¶ˆæ¯)
â”œâ”€ è½¬å‘
â”œâ”€ æ”¶è—
â”œâ”€ â”€â”€â”€â”€â”€â”€
â”œâ”€ åˆ é™¤
â””â”€ æ’¤å› (ä»…è‡ªå·±ä¸”åœ¨è§„å®šæ—¶é—´å†…)
```

### æ¶ˆæ¯åŠ¨ç”»

```
1. æ¶ˆæ¯è¿›å…¥: ä»ä¸‹å¾€ä¸Šæ»‘å…¥ + æ·¡å…¥ (300ms)
2. æ¶ˆæ¯å‘é€: æ°”æ³¡ç¼©å° + å˜é€æ˜ (200ms)
3. æ¶ˆæ¯å¤±è´¥: æŠ–åŠ¨ + æ˜¾ç¤ºå¤±è´¥å›¾æ ‡ (300ms)
4. æ¶ˆæ¯å·²è¯»: å›¾æ ‡ä» > å˜æˆ >>ï¼Œé—ªçƒ (200ms)
5. æ–°æ¶ˆæ¯æç¤º: åº•éƒ¨æµ®çª—ä»ä¸‹å¾€ä¸Šå¼¹å…¥ (300ms)
```

### æ–°æ¶ˆæ¯æç¤º

```
1. åˆ—è¡¨åº•éƒ¨æµ®çª— (å¯ç‚¹å‡»æ»šåŠ¨åˆ°åº•)
2. å£°éŸ³æç¤º (å¯é…ç½®éŸ³é‡)
3. æµè§ˆå™¨æ ‡é¢˜æ æç¤º (Badge)
4. æ¶ˆæ¯é¢„è§ˆ (æ‚¬æµ®æç¤º)
```

---

## é˜¶æ®µå…­ï¼šåŠŸèƒ½å®ç°æ¸…å•

### MVP (æœ€å°åŒ–å¯ç”¨äº§å“)

- [ ] âœ… æ–‡æœ¬æ¶ˆæ¯
- [ ] âœ… æ¶ˆæ¯æ°”æ³¡æ ·å¼
- [ ] âœ… æ¶ˆæ¯æ—¶é—´åˆ†ç»„
- [ ] âœ… æ¶ˆæ¯å·²è¯»/æœªè¯»çŠ¶æ€
- [ ] âœ… é•¿æŒ‰èœå•ï¼ˆå¤åˆ¶ã€åˆ é™¤ï¼‰
- [ ] âœ… æ¶ˆæ¯è¿›å…¥åŠ¨ç”»
- [ ] âœ… æ¶ˆæ¯å‘é€åé¦ˆ

### ç¬¬ä¸€é˜¶æ®µæ‰©å±•

- [ ] å›¾ç‰‡æ¶ˆæ¯
- [ ] æ–‡ä»¶æ¶ˆæ¯
- [ ] é•¿æŒ‰èœå•å®Œæ•´ç‰ˆ
- [ ] å³ä¾§æˆå‘˜åˆ—è¡¨
- [ ] æ¶ˆæ¯æœç´¢
- [ ] æ–°æ¶ˆæ¯æç¤º

### ç¬¬äºŒé˜¶æ®µæ‰©å±•

- [ ] è¯­éŸ³æ¶ˆæ¯
- [ ] è§†é¢‘æ¶ˆæ¯
- [ ] å¼•ç”¨/å›å¤æ¶ˆæ¯
- [ ] æ¶ˆæ¯ç¼–è¾‘
- [ ] æ¶ˆæ¯è½¬å‘
- [ ] æ¶ˆæ¯æ”¶è—
- [ ] @mention

### ç¬¬ä¸‰é˜¶æ®µï¼ˆé«˜çº§ï¼‰

- [ ] æ¶ˆæ¯å·²è¯»å›æ‰§
- [ ] æ¶ˆæ¯æ’¤å›
- [ ] ç¾¤ä¿¡æ¯ç®¡ç†
- [ ] ç¾¤æˆå‘˜æƒé™
- [ ] ç¾¤æ–‡ä»¶åˆ—è¡¨
- [ ] ç¾¤ç›¸å†Œ
- [ ] è¯­éŸ³/è§†é¢‘é€šè¯

---

## å®ç°æ­¥éª¤

### ç¬¬ 1 æ­¥ï¼šåˆ›å»ºæ–° ChatRoom.vueï¼ˆ1å°æ—¶ï¼‰

```vue
<template>
  <div class="chat-room">
    <!-- é¡¶éƒ¨å·¥å…·æ  -->
    <TopToolbar :room="room" />

    <!-- ä¸»å®¹åŒº -->
    <div class="chat-main">
      <!-- æ¶ˆæ¯åˆ—è¡¨ -->
      <MessageList
        :messages="messages"
        @message-action="handleMessageAction"
      />

      <!-- è¾“å…¥æ¡† -->
      <MessageInput
        @send="handleSendMessage"
        @upload="handleUploadFile"
      />
    </div>

    <!-- å³ä¾§æ  -->
    <RightSidebar
      v-if="showSidebar"
      :room="room"
      :members="members"
    />

    <!-- å³é”®èœå• -->
    <ContextMenu
      v-if="showContextMenu"
      :position="contextMenuPos"
      :items="contextMenuItems"
      @close="showContextMenu = false"
    />
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue'

const room = reactive({ /* æˆ¿é—´æ•°æ® */ })
const messages = ref([])
const members = ref([])
const showSidebar = ref(true)
const showContextMenu = ref(false)

// ... äº‹ä»¶å¤„ç†
</script>

<style scoped>
.chat-room {
  display: flex;
  height: 100vh;
  background: #fff;
}

.chat-main {
  flex: 1;
  display: flex;
  flex-direction: column;
}
</style>
```

### ç¬¬ 2 æ­¥ï¼šé‡å»º MessageList.vueï¼ˆ2å°æ—¶ï¼‰

**å…³é”®æŠ€æœ¯**:
- è™šæ‹Ÿæ»šåŠ¨ï¼ˆé«˜æ€§èƒ½ï¼‰
- æ¶ˆæ¯åˆ†ç»„é€»è¾‘
- é•¿æŒ‰äº‹ä»¶å¤„ç†
- æ¶ˆæ¯åŠ¨ç”»

### ç¬¬ 3 æ­¥ï¼šé‡å»º MessageInput.vueï¼ˆ1.5å°æ—¶ï¼‰

**å…³é”®åŠŸèƒ½**:
- å¯Œæ–‡æœ¬ç¼–è¾‘
- @mention è‡ªåŠ¨å®Œæˆ
- æ–‡ä»¶ä¸Šä¼ é¢„è§ˆ
- è¡¨æƒ…é€‰æ‹©å™¨

### ç¬¬ 4 æ­¥ï¼šæ–°å¢ TopToolbar.vueï¼ˆ0.5å°æ—¶ï¼‰

### ç¬¬ 5 æ­¥ï¼šæ–°å¢ RightSidebar.vueï¼ˆ1å°æ—¶ï¼‰

### ç¬¬ 6 æ­¥ï¼šå¤šæ¶ˆæ¯ç±»å‹æ”¯æŒï¼ˆ2å°æ—¶ï¼‰

- TextMessage.vue
- ImageMessage.vue
- FileMessage.vue
- ReplyMessage.vue

### ç¬¬ 7 æ­¥ï¼šæ ·å¼å’ŒåŠ¨ç”»ä¼˜åŒ–ï¼ˆ1å°æ—¶ï¼‰

### ç¬¬ 8 æ­¥ï¼šé•¿æŒ‰èœå•ç³»ç»Ÿï¼ˆ1å°æ—¶ï¼‰

---

## æ—¶é—´é¢„ä¼°

| ä»»åŠ¡ | å·¥ä½œé‡ | é¢„è®¡æ—¶é—´ |
|------|--------|---------|
| æ¶æ„è®¾è®¡ | - | 1å°æ—¶ |
| æ–° ChatRoom | ä¸­ | 1å°æ—¶ |
| é‡å»º MessageList | å¤§ | 2å°æ—¶ |
| é‡å»º MessageInput | ä¸­ | 1.5å°æ—¶ |
| TopToolbar | å° | 0.5å°æ—¶ |
| RightSidebar | ä¸­ | 1å°æ—¶ |
| å¤šæ¶ˆæ¯ç±»å‹ | å¤§ | 2å°æ—¶ |
| æ ·å¼å’ŒåŠ¨ç”» | ä¸­ | 1å°æ—¶ |
| èœå•ç³»ç»Ÿ | ä¸­ | 1å°æ—¶ |
| **æ€»è®¡** | - | **11å°æ—¶** |

---

## ç«‹å³å¼€å§‹ï¼Ÿ

æ‚¨ç¡®è®¤æŒ‰è¿™ä¸ªè®¡åˆ’é‡å»ºå—ï¼Ÿæˆ‘ç°åœ¨å°±å¯ä»¥å¼€å§‹ï¼

å»ºè®®é¡ºåºï¼š
1. âœ… ç¬¬ 1 æ­¥ï¼šæ–° ChatRoom.vue æ¡†æ¶
2. âœ… ç¬¬ 2 æ­¥ï¼šMessageList æ ¸å¿ƒ
3. âœ… ç¬¬ 3 æ­¥ï¼šMessageInput æ ¸å¿ƒ
4. âœ… ç¬¬ 4-5 æ­¥ï¼šå·¥å…·æ 
5. âœ… ç¬¬ 6-8 æ­¥ï¼šæ‰©å±•åŠŸèƒ½

**ç¡®è®¤å¼€å§‹ï¼Ÿ**
