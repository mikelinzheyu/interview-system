# AI面试系统 - Docker生产环境配置
# ====================================

# 应用信息
APP_NAME=AI面试系统
APP_VERSION=1.0.0
APP_ENV=production
COMPOSE_PROJECT_NAME=interview-system

# 端口配置 (Docker宿主机映射端口)
FRONTEND_PORT=80
FRONTEND_HTTPS_PORT=443
BACKEND_PORT=8080
STORAGE_PORT=8081
REDIS_PORT=6379

# API配置 (Docker容器内部网络)
VITE_API_BASE_URL=http://interview-backend:3001/api
STORAGE_API_BASE_URL=http://interview-storage:8081/api

# 存储服务配置 (工作流存储)
SESSION_STORAGE_API_KEY=ak_live_a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0

# Dify AI配置 (需要配置真实的密钥)
DIFY_API_KEY=app-wYqlMORyoUpBkW32BAcRe9lc
DIFY_API_BASE_URL=https://api.dify.ai/v1
DIFY_WORKFLOW_URL=https://udify.app/workflow/ZJIwyB7UMouf2H9V
DIFY_WORKFLOW_SCORE_ID=6BP4LRMhhWAJErur
DIFY_WORKFLOW_GENERATE_ID=rBRtFrkEqD9QuvcW

# Redis配置
REDIS_HOST=interview-redis
REDIS_PASSWORD=
REDIS_DB=0

# 日志配置
LOG_LEVEL=INFO
LOG_DIR=/app/logs

# 安全配置 (生产环境必须修改为强密钥)
JWT_SECRET=interview-system-jwt-secret-key-change-in-production-environment
JWT_EXPIRATION=86400000

# 性能配置
MAX_UPLOAD_SIZE=10MB
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# 监控配置
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=5

# 时区配置
TZ=Asia/Shanghai

# ============ Cloudflare Tunnel 配置 (替代 ngrok) ============
# 隧道令牌 (可选，如果使用令牌方式)
CLOUDFLARE_TUNNEL_TOKEN=

# 隧道 ID (从 cloudflared tunnel create 命令获取)
TUNNEL_ID=

# 隧道名称
TUNNEL_NAME=interview-system

# 公网 API URL (Cloudflare Tunnel 提供的 URL)
# 替换为你的实际域名或 Cloudflare 分配的 URL
STORAGE_API_PUBLIC_URL=https://storage-api.yourdomain.com
BACKEND_API_PUBLIC_URL=https://api.yourdomain.com

# 数据库配置 (如果需要)
# DB_HOST=db
# DB_PORT=5432
# DB_NAME=interview_system
# DB_USER=admin
# DB_PASSWORD=password

# SSL配置 (如果使用HTTPS)
# SSL_ENABLED=true
# SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
# SSL_KEY_PATH=/etc/nginx/ssl/key.pem
